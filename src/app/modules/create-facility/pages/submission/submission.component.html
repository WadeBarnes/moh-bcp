<common-page-framework layout='blank'>

  <common-confirm-template [displayIcon]="displayIcon">

    <div confirmationTitle>
      <button (click)="print($event)" class="btn btn-clear float-right print-hide">
        <strong>Print
          <i class="fa fa-print fa-lg"
             aria-hidden="true"></i>
        </strong>
      </button>
      <h1 class='border-bottom'>{{pageTitle}}</h1>
    </div>

    <div message>
      <div>
        <h2 class='mt-2'>{{confirmationMessage}}</h2>
      </div>

      <div class="row">
        <div class='col-6 review-key'>Date of Submission</div>
        <div class="col-6 review-value">{{submissionDate}}</div>

        <div class='col-6 review-key'>Reference Number</div>
        <div class="col-6 review-value">{{dataService.jsonCreateFacility.response?.referenceNumber}}</div>

        <div class='col-6 review-key'>Facility Number</div>
        <div class="col-6 review-value {{isUnderReview ? 'text-primary' : ''}} "> {{facilityNumberText}} </div>
      </div>
    </div>

    <div AdditionalInfo>

      <div class="message-container under-review"
           *ngIf="isUnderReview">
        <i class="fa fa-2x fa-exclamation-circle text-primary pr-2"
           aria-label="info"></i>
        Your Facility Number will be provided once your request has been processed. If you have any questions on the
        status of your submission please call us at 1-800-555-1234 and provide your Reference Number.
      </div>



      <div class="print-hide">
        <h2 class="border-bottom"><strong>Next Steps</strong></h2>
        <common-page-section layout='noTips'>
          <ul>
            <li>You will recieve a letter with your Facility Number</li>
            <li *ngIf="!isUnderReview">Registration practitioners, complete with practitioner assignment to Medical
              Services Plan facility for
              Business Cost Premium form.</li>
          </ul>
        </common-page-section>
      </div>

      <div class="print-only my-4">
        <p>This application form is for new applicants who do not have a valid MSP facility number.</p>
        <p>All information on this form must be authorized by the responsible principle practitioner of the facility (the Applicant). If there are any changes to this submission after it has been received, a new form must be completed and authorized by the Applicant.</p>
      </div>


      <!-- Prinable section should have same contents as Review page
      TODO: Explore refactoring so we can actually just put Review component here and style it in print-css.  -->
      <div class="print-only">

        <h2 class="border-bottom">Facility Administrator Info</h2>
        <div class="row print-review-row">
          <div class='col-6 review-key'>Facility administrator first name</div>
          <div class="col-6 review-value">{{dataService.facAdminFirstName}}</div>

          <div class='col-6 review-key'>Facility administrator last name</div>
          <div class="col-6 review-value">{{dataService.facAdminLastName}}</div>

          <div class='col-6 review-key'>Medical Services plan practitioner number</div>
          <div class="col-6 review-value">{{dataService.pracNumber}}</div>

          <div class='col-6 review-key'>Email address</div>
          <div class="col-6 review-value">{{dataService.emailAddress}}</div>

          <div class='col-6 review-key'>Phone number</div>
          <div class="col-6 review-value">
            {{dataService.facAdminPhoneNumber}}
            {{dataService.facAdminExtension ? 'Ext. ' + dataService.facAdminExtension : ''}}
          </div>
        </div>

        <h2 class="border-bottom">Facility Information</h2>
        <div class="row print-review-row">
          <div class='col-6 review-key'>Facility name</div>
          <div class='col-6 review-value'>{{dataService.facInfoFacilityName}}</div>

          <div class='col-6 review-key'>Physical address</div>
          <div class='col-6 review-value'>{{dataService.facInfoPhysicalAddress}}</div>

          <div class='col-6 review-key'>City</div>
          <div class='col-6 review-value'>{{dataService.facInfoCity}}</div>

          <div class='col-6 review-key'>Province</div>
          <div class='col-6 review-value'>{{dataService.facInfoProvince}}</div>

          <div class='col-6 review-key'>Postal code</div>
          <div class='col-6 review-value'>{{dataService.facInfoPostalCode}}</div>

          <div class='col-6 review-key'>Fax number</div>
          <div class='col-6 review-value'>{{dataService.facInfoFaxNumber}}</div>

          <div class='col-6'>Effective date</div>
          <div class='col-6 font-weight-bold'>{{facInfoEffectiveDate}}</div>
        </div>

        <ng-container *ngIf="!dataService.facInfoIsSameMailingAddress">
          <h2 class="border-bottom">Facility Mailing Address</h2>
          <div class="row print-review-row">
            <div class='col-6 review-key'>Mailing Address</div>
            <div class="col-6 review-value">{{dataService.facInfoMailAddress}}</div>
  
            <div class='col-6 review-key'>Mailing city</div>
            <div class="col-6 review-value">{{dataService.facInfoMailCity}}</div>
  
            <div class='col-6 review-key'>Mailing Province</div>
            <div class="col-6 review-value">{{dataService.facInfoMailProvince}}</div>
  
            <div class='col-6 review-key'>Mailing Postal</div>
            <div class="col-6 review-value">{{dataService.facInfoMailPostal}}</div>
          </div>
        </ng-container>


        <h2 class='border-bottom'>Business Cost Premium</h2>
        <div class="row print-review-row">
          <div class='col-6 review-key'>Does your business qualify for Business Cost Premium?</div>
          <div class="col-6 review-value">{{dataService.facInfoIsQualifyForBCP ? 'Yes' : 'No' }}</div>
        </div>

        <h2 class='border-bottom'>Declaration</h2>
        <p class="font-italic">I understand that MSP is a public system based on trust, but also that my claims are subject to audit and financial recovery for claims contrary to the Medicare Protection Act (the Act). I undertake to not submit false or misleading claims information, and acknowledge that doing so is an offence under the Act and may be an offence under the Criminal Code of Canada. Further, I agree that I will meet the requirements of the Act and related Payment Schedule regarding claims for payment, including that prior to submitting a claim, I must create: (a) an adequate medical record, if I am a medical practitioner; or (b) an adequate clinical record, if I am a health care practitioner.</p>
        
        <img [src]='dataService.signature'>
        
        <div class="row print-review-row">
          <div class='col-6 review-key'>Date of Declaration</div>
          <div class="col-6 review-value">{{ dateOfDeclaration }}</div>
        </div>

      </div>

    </div>

  </common-confirm-template>

  
</common-page-framework>
